import{getDirname as d,path as c,colors as r}from"@vuepress/utils";import{useSassPalettePlugin as v}from"vuepress-plugin-sass-palette";import{Logger as h,noopModule as g,getLocales as k,addViteOptimizeDepsInclude as l,addViteSsrExternal as s,addViteOptimizeDepsExclude as f,addCustomElement as y}from"vuepress-shared/node";import{ensureEndingSlash as w}from"@vuepress/shared";const p={"/en/":{placeholder:"Write a comment here (Fill in the email address to receive an email notification when being replied)"},"/zh/":{placeholder:"请留言。(填写邮箱可在被回复时收到邮件提醒)"},"/zh-tw/":{placeholder:"請留言。(填寫信箱可在被回覆時收到郵件提醒)"},"/de/":{placeholder:"Schreibe ein Kommentar (Geben Sie die E-Mail-Adresse ein, um eine E-Mail-Benachrichtigung zu erhalten, wenn Sie eine Antwort erhalten)"},"/de-at/":{placeholder:"Schreibe ein Kommentar (Geben Sie die E-Mail-Adresse ein, um eine E-Mail-Benachrichtigung zu erhalten, wenn Sie eine Antwort erhalten)"},"/vi/":{placeholder:"Để lại bình luận (Điền địa chỉ email để nhận email thông báo khi được trả lời)"},"/uk/":{placeholder:"Напишіть тут коментар (введіть адресу електронної пошти, щоб отримувати сповіщення електронною поштою, коли буде відповідь)"},"/ru/":{placeholder:"Напишите комментарий здесь (Введите адрес электронной почты, чтобы получить уведомление по электронной почте при ответе)"},"/br/":{placeholder:"Escreva um comentário aqui (preencha com o endereço de email para receber notificações quando tiver alguma resposta)"},"/pl/":{placeholder:"Wpisz tutaj komentarz (wpisz adres e-mail, aby otrzymać powiadomienie e-mail, gdy otrzymasz odpowiedź)"},"/sk/":{placeholder:"Napíš svoj komentár (vlož svoj e-mail taktiež, aby si bol notifikovaný o odpovediach)"},"/fr/":{placeholder:"Écrivez votre commentaire ici (Inscrivez votre email afin de recevoir une notification en cas de réponse)"},"/es/":{placeholder:"Escriba un comentario aquí (Ingrese su correo electrónico para recibir una notificación en caso de respuesta)"},"/ja/":{placeholder:"伝言をどうぞ (メールアドレスを入力すると、返信があった際にメールでお知らせします。)"},"/tr/":{placeholder:"Buraya bir yorum yazın (Yanıtlandığında bir e-posta bildirimi almak için e-posta adresinizi girin)"},"/ko/":{placeholder:"댓글을 남겨주세요 (답변이 있을 경우 이메일로 알림을 받으려면 이메일 주소를 입력하세요)"},"/fi/":{placeholder:"Kirjoita kommentti tähän (täytä sähköpostiosoite saadaksesi sähköposti-ilmoituksen vastauksesta)"},"/hu/":{placeholder:"Írj kommentet itt! (Töltsd ki az email címet, hogy értesítést kapj, amikor válaszolnak.)"}},b=d(import.meta.url),I=w(c.resolve(b,"../client")),u=["Artalk","Giscus","Waline","Twikoo"],o=new h("vuepress-plugin-comment2"),$=(e="None")=>u.includes(e)?`${I}components/${e}.js`:(e!=="None"&&o.error(`Invalid provider: ${e}`),g),E=e=>{"type"in e&&(o.warn('"type" is deprecated, please use "provider".'),e.type==="waline"?e.provider="Waline":e.type==="giscus"?e.provider="Giscus":e.type==="twikoo"&&(e.provider="Twikoo"),delete e.type),e.provider==="Waline"&&([["emojiCDN","emoji"],["emojiMaps","emoji"],["requiredFields","requiredMeta"],["visitor","pageview"],["langMode","locale"],["placeholder","locale.placeholder"],["anonymous","login"],["copyRight","copyright"]].forEach(([i,a])=>{i in e&&(o.warn(`"${i}" is deprecated in @waline/client@v2, you should use "${a}" instead.`),delete e[i])}),["region","appId","appKey","notify","verify","avatar","avatarForce","enableQQ","recordIP","serverURLs","avatarCDN","mathTagSupport","highlight","uploadImage","previewMath"].forEach(i=>{i in e&&(o.error(`"${i}" is no longer supported in @waline/client@v2.`),delete e[i])}))},z=(e,i)=>{const{isDev:a}=i.env;switch(e.provider=e.provider&&u.includes(e.provider)?e.provider:"None",e.provider){case"Artalk":e.server||(a?(o.info(`A fallback Artalk server is used ${r.red("for demo only")}. You should provide ${r.magenta("server")} option yourself in production.`),e.site="artalk-demo",e.server="https://demo-artalk.jjdxb.top/"):o.error(`${r.magenta("site")} is required for Artalk.`));break;case"Giscus":!e.repo&&!e.repoId&&!e.category&&!e.categoryId&&a?(o.info(`A fallback GitHub repo is used ${r.red("for demo only")}. You should provide ${r.magenta("repo")}, ${r.magenta("repoId")}, ${r.magenta("category")} and ${r.magenta("categoryId")} option yourself in production.`),e.repo="vuepress-theme-hope/giscus-discussions",e.repoId="R_kgDOG_Pt2A",e.category="Announcements",e.categoryId="DIC_kwDOG_Pt2M4COD69"):(e.repo||o.error(`${r.magenta("repo")} is required for Giscus.`),e.repoId||o.error(`${r.magenta("repoId")} is required for Giscus.`),e.category||o.error(`${r.magenta("category")} is required for Giscus.`),e.categoryId||o.error(`${r.magenta("categoryId")} is required for Giscus.`));break;case"Waline":e.serverURL||(a?(e.serverURL="https://waline-comment.vuejs.press",o.info(`A fallback Waline server is used ${r.red("for demo only")}. You should provide ${r.magenta("serverURL")} option yourself in production.`)):o.error(`${r.magenta("serverURL")} is required for Waline.`));break;case"Twikoo":e.envId||(a?(o.info(`A fallback Twikoo server is used ${r.red("for demo only")}. You should provide ${r.magenta("envId")} option yourself in production.`),e.envId="https://twikoo.ccknbc.vercel.app"):o.error(`${r.magenta("envId")} is required for Twikoo.`));break}},A=d(import.meta.url),j=(e,i=!0)=>a=>{i&&E(e),a.env.isDebug&&o.info("Options:",e),z(e,a);const m=e.provider==="Waline"?k({app:a,name:"waline",default:p,config:e.locales}):{};return e.provider==="Waline"&&"locales"in e&&delete e.locales,v(a,{id:"hope"}),{name:"vuepress-plugin-comment2",alias:{"vuepress-plugin-comment2/provider":$(e.provider)},define:()=>({COMMENT_OPTIONS:e,...e.provider==="Waline"?{WALINE_LOCALES:m,WALINE_META:e.metaIcon!==!1}:{}}),extendsBundlerOptions:(n,t)=>{switch(e.provider){case"Artalk":{l(n,t,"artalk"),s(n,t,"artalk");break}case"Giscus":{y(n,t,"GiscusWidget"),s(n,t,"giscus");break}case"Waline":{l(n,t,"autosize"),f(n,t,"@waline/client"),s(n,t,"@waline/client");break}case"Twikoo":{l(n,t,"twikoo"),s(n,t,"twikoo");break}}},clientConfigFile:c.resolve(A,"../client/config.js")}};export{j as commentPlugin,p as walineLocales};
//# sourceMappingURL=index.js.map
