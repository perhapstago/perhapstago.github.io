{"version":3,"file":"NavScreen.js","sourceRoot":"","sources":["../../../../../src/client/modules/navbar/components/NavScreen.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAC/C,OAAO,EAAE,uBAAuB,EAAE,iBAAiB,EAAE,MAAM,kBAAkB,CAAC;AAC9E,OAAO,EACL,UAAU,EAEV,eAAe,EACf,CAAC,EACD,SAAS,EACT,WAAW,EACX,GAAG,EACH,KAAK,GACN,MAAM,KAAK,CAAC;AAEb,OAAO,EAAE,aAAa,EAAE,MAAM,+BAA+B,CAAC;AAC9D,OAAO,cAAc,MAAM,sDAAsD,CAAC;AAClF,OAAO,eAAe,MAAM,wDAAwD,CAAC;AAErF,OAAO,2BAA2B,CAAC;AAEnC,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,WAAW;IAEjB,KAAK,EAAE;QACL;;;;WAIG;QACH,IAAI,EAAE,OAAO;KACd;IAED,KAAK,EAAE;QACL,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI;KAClB;IAED,KAAK,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;QAC1B,MAAM,IAAI,GAAG,WAAW,EAAE,CAAC;QAC3B,MAAM,EAAE,QAAQ,EAAE,GAAG,aAAa,EAAE,CAAC;QAErC,MAAM,MAAM,GAAG,GAAG,EAAe,CAAC;QAElC,SAAS,CAAC,GAAG,EAAE;YACb,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;gBACxB,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE;oBACxB,uBAAuB,EAAE,CAAC;oBAC1B,IAAI,CAAC,OAAO,CAAC,CAAC;iBACf;YACH,CAAC,CAAC,CAAC;YAEH,KAAK,CACH,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EACrB,GAAG,EAAE;gBACH,uBAAuB,EAAE,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,CAAC;YAChB,CAAC,CACF,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,GAAG,EAAE;YACf,uBAAuB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,OAAO,GAAU,EAAE,CACjB,CAAC,CACC,UAAU,EACV;YACE,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,GAAG,EAAE,CACZ,iBAAiB,CAAC,MAAM,CAAC,KAAM,EAAE,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC;YACjE,YAAY,EAAE,GAAG,EAAE,CAAC,uBAAuB,EAAE;SAC9C,EACD,GAAG,EAAE,CACH,KAAK,CAAC,IAAI;YACR,CAAC,CAAC,CAAC,CACC,KAAK,EACL,EAAE,EAAE,EAAE,YAAY,EAAE,GAAG,EAAE,MAAM,EAAE,EACjC,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE;gBAC/B,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE;gBACnB,CAAC,CAAC,cAAc,CAAC;gBACjB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;gBAC1D,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;aACnB,CAAC,CACH;YACH,CAAC,CAAC,IAAI,CACX,CAAC;IACN,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { usePageData } from \"@vuepress/client\";\nimport { clearAllBodyScrollLocks, disableBodyScroll } from \"body-scroll-lock\";\nimport {\n  Transition,\n  type VNode,\n  defineComponent,\n  h,\n  onMounted,\n  onUnmounted,\n  ref,\n  watch,\n} from \"vue\";\n\nimport { useWindowSize } from \"@theme-hope/composables/index\";\nimport NavScreenLinks from \"@theme-hope/modules/navbar/components/NavScreenLinks\";\nimport OutlookSettings from \"@theme-hope/modules/outlook/components/OutlookSettings\";\n\nimport \"../styles/nav-screen.scss\";\n\nexport default defineComponent({\n  name: \"NavScreen\",\n\n  props: {\n    /**\n     * Whether to show the screen\n     *\n     * 是否显示\n     */\n    show: Boolean,\n  },\n\n  emits: {\n    close: () => true,\n  },\n\n  setup(props, { emit, slots }) {\n    const page = usePageData();\n    const { isMobile } = useWindowSize();\n\n    const screen = ref<HTMLElement>();\n\n    onMounted(() => {\n      watch(isMobile, (value) => {\n        if (!value && props.show) {\n          clearAllBodyScrollLocks();\n          emit(\"close\");\n        }\n      });\n\n      watch(\n        () => page.value.path,\n        () => {\n          clearAllBodyScrollLocks();\n          emit(\"close\");\n        }\n      );\n    });\n\n    onUnmounted(() => {\n      clearAllBodyScrollLocks();\n    });\n\n    return (): VNode =>\n      h(\n        Transition,\n        {\n          name: \"fade\",\n          onEnter: () =>\n            disableBodyScroll(screen.value!, { reserveScrollBarGap: true }),\n          onAfterLeave: () => clearAllBodyScrollLocks(),\n        },\n        () =>\n          props.show\n            ? h(\n                \"div\",\n                { id: \"nav-screen\", ref: screen },\n                h(\"div\", { class: \"container\" }, [\n                  slots[\"before\"]?.(),\n                  h(NavScreenLinks),\n                  h(\"div\", { class: \"outlook-wrapper\" }, h(OutlookSettings)),\n                  slots[\"after\"]?.(),\n                ])\n              )\n            : null\n      );\n  },\n});\n"]}