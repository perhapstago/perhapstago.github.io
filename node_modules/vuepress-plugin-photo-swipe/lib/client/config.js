import{usePageData as p,defineClientConfig as g}from"@vuepress/client";import{useFullscreen as v}from"@vueuse/core";import{onMounted as f,watch as w,nextTick as S}from"vue";import{useLocaleConfig as P}from"vuepress-shared/client";import{isString as _}from"@vuepress/shared";import"photoswipe/dist/photoswipe.css";const E=PHOTO_SWIPE_SELECTOR,O=PHOTO_SWIPE_LOCALES,H=PHOTO_SWIPE_DELAY,I=PHOTO_SWIPE_OPTIONS,d=t=>({src:t.src,width:t.naturalWidth,height:t.naturalHeight,alt:t.alt}),A=t=>{const n=_(t)?Array.from(document.querySelectorAll(t)):t.map(e=>Array.from(document.querySelectorAll(e))).flat();return Promise.all(n.map(e=>new Promise((i,s)=>{e.complete?i(d(e)):(e.onload=()=>i(d(e)),e.onerror=r=>s(r))}))).then(e=>({elements:n,infos:e}))},y=()=>{const{isSupported:t,toggle:n}=v(),e=P(O),i=p(),s=()=>Promise.all([import("photoswipe"),S().then(()=>new Promise(r=>setTimeout(r,H)).then(()=>A(E)))]).then(([r,m])=>{m.elements.forEach((l,h)=>{const c=()=>{const o=new r.default({dataSource:m.infos,...e.value,...I,index:h});o.on("uiRegister",()=>{t&&o.ui.registerElement({name:"fullscreen",order:7,isButton:!0,html:'<svg class="pswp__icn" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M249.5 270.833H437v-75H212a37.5 37.5 0 0 0-37.5 37.5v225h75v-187.5zm-37.5 600h225v-75H249.5v-187.5h-75v225a37.5 37.5 0 0 0 37.5 37.5zm637.5-37.5v-225h-75v187.5H587v75h225a37.5 37.5 0 0 0 37.5-37.5zM587 270.833h187.5v187.5h75v-225a37.5 37.5 0 0 0-37.5-37.5H587v75z"/></svg>',onClick:()=>{n()}}),o.ui.registerElement({name:"download",order:8,isButton:!0,tagName:"a",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1-1.5-1.6ZM23 23H9v2h14" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(a,u)=>{a.setAttribute("download",""),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener"),u.on("change",()=>{a.href=u.currSlide.data.src})}})}),o.init()};l.style.cursor="zoom-in",l.addEventListener("click",c),l.addEventListener("keypress",({key:o})=>{o==="Enter"&&c()})})});f(()=>{s(),w(()=>i.value.path,()=>s())})};var L=g({setup:()=>{y()}});export{L as default};
//# sourceMappingURL=config.js.map
